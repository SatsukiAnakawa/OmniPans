# 変更履歴 (Changelog)

このプロジェクトの全ての変更点は、このファイルに記録されます。

## [1.0.0] - 2025-06-15

### 初回リリース

OmniPansの最初の安定版リリースです。

#### 主な機能と特徴

- **集中コントロール**: 接続されている全ての音声出力デバイスの音量とパン（左右バランス）を、一つのフライアウトウィンドウで管理。
- **スタートアップ登録**: PC起動時のアプリ自動起動設定を、タスクトレイメニューから切り替え可能。
- **デバイスの非表示/再表示**: 不要なデバイスを非表示にし、メニューから簡単に再表示可能。
- **バックグラウンド動作**: フライアウト表示中もタスクマネージャー上では「バックグラウンドプロセス」として動作。
- **UI仮想化**: `VirtualizingStackPanel`の採用により、多数のデバイス接続時も高いUIパフォーマンスを維持。
- **高速操作への応答性**: スライダーの高速連続操作時に`CancellationToken`で不要な処理をキャンセルし、応答性を向上。

#### アーキテクチャと設計
- **MVVMパターン**: UI(View)とロジック(ViewModel)を厳密に分離。
- **DI (依存性の注入)**: `Microsoft.Extensions.DependencyInjection`を利用し、クラス間の結合度を低減。
- **責務分離 (SRP)**: `DeviceFilter`, `PanChangeNotifier`, `WindowPositioner`等の専門家クラスを導入し、各クラスの責務を明確化。
- **依存関係逆転の原則 (DIP)**: `IDisplayedDevice`インターフェースの導入により、UI層が具体的な音声ライブラリの実装から独立。
- **WPFネイティブ実装**: `Hardcodet.NotifyIcon.Wpf`ライブラリの導入と`Popup`コントロールの採用により、Windows Formsへの依存を排除。
- **モダンC#**: C# 12の`プライマリコンストラクタ`や`コレクション式`を積極的に活用し、コードを簡潔化。


## [1.1.0] - 2025-06-16

### 修正 (Fixed)
- 単一ファイル形式で発行した際に、ログ機能(Serilog)が原因でアプリが起動に失敗する重大な不具合を修正しました。

### 追加 (Added)
- アプリケーションの多重起動を防止する機能を追加しました。  これにより、アプリが2つ以上同時に起動することがなくなります。

### 変更 (Changed)
- リリースビルドの配布形式を「自己完結」から「フレームワーク依存」に変更し、ファイルサイズを大幅に削減しました（約180MB → 約20MB）。
- 不要な `Newtonsoft.Json` へのパッケージ参照を削除し、依存関係を整理しました。 
